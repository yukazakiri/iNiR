# Matugen configuration for iNiR
#
# Responsibility split:
#   matugen  → shell colors (colors.json), GTK3/4 CSS, fuzzel, KDE source color, wallpaper path
#   Python   → terminal colors (generate_colors_material.py → material_colors.scss)
#              → per-app configs (generate_terminal_configs.py via TERMINAL_REGISTRY)
#
# Templates that exist but are NOT active in this config:
#   terminals/  (kitty.conf, foot.ini, alacritty.toml, ghostty.conf)
#     → terminals use the harmonized Python-generated palette (generate_terminal_configs.py)
#       instead of raw M3 tokens so colors integrate better with wallpaper hues.
#   firefox/pywalfox-colors.json
#     → pywalfox colors are generated by apply-gtk-theme.sh (reads colors.json + term palette).
# To activate any of the above, add a [templates.<name>] block pointing to the file.

[config]
version_check = false

# Material You tokens for Quickshell (QML shell reads this)
[templates.m3colors]
input_path = '~/.config/matugen/templates/colors.json'
output_path = '~/.local/state/quickshell/user/generated/colors.json'

# GTK4/libadwaita theme (Nautilus, GNOME apps)
[templates.gtk4]
input_path = '~/.config/matugen/templates/gtk-4.0/gtk.css'
output_path = '~/.config/gtk-4.0/gtk.css'

# GTK3 theme (legacy apps)
[templates.gtk3]
input_path = '~/.config/matugen/templates/gtk-3.0/gtk.css'
output_path = '~/.config/gtk-3.0/gtk.css'

# Fuzzel launcher theme
[templates.fuzzel]
input_path = '~/.config/matugen/templates/fuzzel/fuzzel_theme.ini'
output_path = '~/.config/fuzzel/fuzzel_theme.ini'

# KDE source color cache (used by kde-material-you-colors-wrapper)
[templates.kde_colors]
input_path = '~/.config/matugen/templates/kde/color.txt'
output_path = '~/.local/state/quickshell/user/generated/color.txt'

# Wallpaper path tracking
[templates.wallpaper]
input_path = '~/.config/matugen/templates/wallpaper.txt'
output_path = '~/.local/state/quickshell/user/generated/wallpaper/path.txt'

# Firefox Material Fox theme (easier to distribute than pywalfox)
# Setup: Link output to ~/.mozilla/firefox/<profile>/chrome/theme-material-blue.css
# See: https://github.com/edelvarden/material-fox-updated
[templates.firefox_materialfox]
input_path = '~/.config/matugen/templates/firefox/materialfox.css'
output_path = '~/.local/state/quickshell/user/generated/firefox-materialfox.css'

# SDDM ii-pixel theme sync (safe no-op if script/theme are not present)
[templates.ii_pixel_sddm_sync]
input_path = '/dev/null'
output_path = '/dev/null'
post_hook = 'bash -lc "[[ -x ~/.local/bin/sync-pixel-sddm.py && -d /usr/share/sddm/themes/ii-pixel ]] && nohup python3 ~/.local/bin/sync-pixel-sddm.py >/dev/null 2>&1 &"'
